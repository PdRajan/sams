{% extends 'base.html' %}
{% block heading %}
{% endblock heading %}
{% block content %}





<main class="dashboard-container">

    <style>
        
    
        .dashboard-container {
            display: flex;
            width: 100%;
            /* justify-content: space-between; */
        }
    
        .sidebar-left,
        .sidebar-right {
            /* background-color: #f3f3f3; */
            /* color: white; */
            padding: 20px;
            width: 20%;
        }
    
        .sidebar-left {
            display: flex;
            flex-direction: column;
            align-items: end;
        }
    
        .sidebar-right {
            display: flex;
            flex-direction: column;
            align-items: start;
        }
    
        .profile img {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            margin-bottom: 10px;
        }
    
        .profile h2,
        .profile p {
            margin: 5px 0;
        }
    
    
    
        .assigned-batches,
        .other-batches {
            margin-bottom: 20px;
        }

        .assigned-batches h3,
        .other-batches h3{
            font-weight: 500;
            font-size: 20px;
            padding: 10px;
        }
    
    
    
        .red {
            background-color: #a00;
        }
    
        .orange {
            background-color: #f60;
        }
    
    
    
        .faculty-list h3,
        .faculty-list ul,
        .faculty-list button {
            color: white;
        }
    
        .faculty-list ul {
            list-style-type: none;
            padding: 0;
        }
    
    
        #view-more {
            background-color: #004d40;
            color: white;
            border: none;
            padding: 10px;
            cursor: pointer;
            margin-top: 10px;
        }
    
        #view-more:hover {
            background-color: #00332c;
        }
    
    
        .profile-card {
            width: 250px;
            background: #fff;
            border: 1px solid #d1d1d1;
            border-radius: 8px;
            /* box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); */
            text-align: center;
            overflow: hidden;
            position: relative;
        }
    
        .profile-card img.cover-photo {
            width: 100%;
            height: 70px;
            object-fit: cover;
        }
    
        .profile-card .profile-photo {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            border: 3px solid #fff;
            margin: 0 auto;
            margin-top: -42px;
            object-fit: cover;
        }
    
        .profile-card h2 {
            font-size: 16px;
            margin: 8px 0;
        }
    
        .profile-card p {
            font-size: 12px;
            color: #666;
            margin: 0;
        }
    
        .profile-card .stats {
            display: flex;
            justify-content: space-around;
            padding: 16px 0;
            border-top: 1px solid #e1e1e1;
            border-bottom: 1px solid #e1e1e1;
        }
    
        .profile-card .stats div {
            text-align: center;
        }
    
        .profile-card .stats div p {
            margin: 4px 0;
        }
    
        .profile-card .saved-items {
            padding: 16px;
            background: #f9fafb;
            border-top: 1px solid #e1e1e1;
        }
    
    
    
    
        /* **************** right side bar ******** */
        .sidebar {
            width: 250px;
            padding: 20px;
            background: #fff;
            border: 1px solid #d1d1d1;
            border-radius: 8px;
            /* box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); */
            overflow: hidden;
        }
    
        .sidebar h2 {
            font-size: 24px;
            color: #1967d2;
            margin-bottom: 16px;
            border-bottom: 1px solid #d1d1d1;
            padding-bottom: 8px;
        }
    
        .faculty-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
    
        .faculty {
            display: flex;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #e1e1e1;
        }
    
        .faculty .avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            margin-right: 12px;
        }
    
        .faculty .name {
            font-size: 14px;
            color: #333;
        }
    
        .view-more {
            display: block;
            width: 100%;
            text-align: center;
            padding: 12px 0;
            margin-top: 16px;
            background-color: #1967d2;
            color: #fff;
            text-decoration: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: bold;
        }
    
    
    
        /* ************ main content*************** */
        .main-content {
            display: flex;
            flex-direction: column;
            gap: 20px;
            flex: 1;
            padding: 20px;
            /* background-color: #f1f1f1; */
            border-left: 1px solid #d1d1d1;
            border-right: 1px solid #d1d1d1;
        }
    
        h3 {
            margin: 0;
            margin-bottom: 10px;
            color: #333;
        }
    
        .batches {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }
    
        .batch {
            width: 250px;
            background: #fff;
            border: 1px solid #d1d1d1;
            border-radius: 8px;
            /* box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); */
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
    
        .batch .header {
            padding: 16px;
            color: #fff;
        }
    
        .batch .header.blue {
            background-color: #1a73e8;
        }
        .batch .header.gray {
            background-color: #3B444B;
        }
    
        .batch .header.green {
            background-color: #17B169;
        }
    
        .batch .header h4 {
            margin: 0;
            font-size: 20px;
        }
    
        .batch .header p {
            margin: 5px 0;
            font-size: 14px;
        }
    
        .batch .avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: #f1f3f4;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: bold;
            color: #5f6368;
            margin: -25px 16px 0 auto;
        }
    
        .batch .content {
            padding: 1 6px;
            flex-grow: 1;
        }
    
        .batch .content p {
            padding: 5px 20px;
        }
    
        .batch .footer {
            padding: 16px;
            border-top: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
        }
    
        .batch .footer .icon {
            font-size: 14px;
            color: #5f6368;
        }



        .filter-form{
            margin: 30px;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 0 0 10px;
        }
        .filter-form input,.filter-form select{
            
            outline: none;
            box-shadow: rgba(0, 0, 0, 0.1) 0px 4px 6px -1px, rgba(0, 0, 0, 0.06) 0px 2px 9px -1px;
            font-size: 20px;
            color: #9ca3af;
            text-align: center;
            width: 150px;
            height: 35px;
            border-radius: 5px;
            margin: 0 15px;
        }
        
        .filter-form button{
            box-shadow: rgba(0, 0, 0, 0.1) 0px 4px 6px -1px, rgba(0, 0, 0, 0.06) 0px 2px 9px -1px;
            background-color: #1967d2;
            color: white;
            border-radius: 5px;
            padding: 5px 20px;
            margin: 0 15px;
            width: 150px;
        }
    </style>



    <!-- ****************sidebar-right************** -->
    <div class="sidebar-left">

        <div class="profile-card">
            <img src="https://thumbs.dreamstime.com/b/wall-backgrounds-16268126.jpg" alt="Cover Photo"
                class="cover-photo">
            <img src="{{ student.user.profile_picture.url }}"
                alt="Profile Photo" class="profile-photo">
            <h2> {{ student.user.get_full_name }} </h2>
            <p>{{ student.course|upper }} {{ student.batch_year }} Batch</p>
            <div class="stats">
                <div>
                    <p>Shift</p>
                    <p>{{ student.batch.shift }}</p>
                </div>
                <div>
                    <p>Section</p>
                    <p>{{ student.batch.section }}</p>
                </div>
            </div>

            <a href="{% url 'home:student_profile' student_id=request.user.student.id %}">
            <div class="saved-items">
                <p>View Profile</p>
            </div>
            </a>
        </div>
    </div>


    <!-- *********************** main content*********************** -->
    <div class="main-content">



        <div class="assigned-batches">
            <h3>Assigned Batches</h3>
            <div class="batches">
                {% for batch in assigned_batches %}
                <a href="{% url 'home:batch_list' batch.id %}">
                    <div class="batch">
                        <div class="header green">
                            <h4>{{ batch.course|upper }} {{ batch.year }}</h4>
                            <p>Shift {{ batch.shift }}</p>
                            <!-- <div class="avatar"> -->
                                <img class="avatar" src="{{ batch.assigned_to.user.profile_picture.url }}" alt="Profile Picture for {{ batch.assigned_to.user.first_name }} {{ batch.assigned_to.user.last_name }}">
                            <!-- </div> -->
                        </div>
                        <div class="content">
                            <p>{{ batch.assigned_to.user.first_name }} {{ batch.assigned_to.user.last_name }}</p>
                        </div>
                        <div class="footer">
                            <span class="icon">👤{{ batch.count }}</span>
                            {% comment %} <span class="icon">⚠️14</span> {% endcomment %}
                        </div>
                    </div>
                </a>
                {% endfor %}
            </div>
        </div>




        <div class="other-batches">
            <h3>Other Batches</h3>

            {% comment %} <div class="filter-form">
                <input type="number" placeholder="Batch Year">
                <select name="" id="">
                    <option value="">Shift</option>
                    <option value="">Morning</option>
                    <option value="">Evening</option>
                </select>
                <select name="" id="">
                    <option value="">Section</option>
                    <option value="">A</option>
                    <option value="">B</option>
                </select>

                <button>Filter</button>
            </div> {% endcomment %}

            <div class="batches">
                {% for batch in other_batches %}
                <a href="{% url 'home:batch_list' batch.id %}">
                    <div class="batch">
                        <div class="header gray">
                            <h4>{{ batch.course|upper }} {{ batch.year }}</h4>
                            <p>Shift {{ batch.shift }}</p>
                            <img class="avatar" src="{{ batch.assigned_to.user.profile_picture.url }}" alt="Profile Picture for {{batch.assigned_to.user.first_name}} {{batch.assigned_to.user.last_name}}">
                        </div>
                        <div class="content">
                            <p>{{batch.assigned_to.user.first_name}} {{ batch.assigned_to.user.last_name }}</p>
                        </div>
                        <div class="footer">
                            <span class="icon">👤 {{ batch.count }}</span>
                            <!-- <span class="icon">📂</span> -->
                        </div>
                    </div>
                </a>
                {% endfor %}
            </div>
        </div>
    </div>






    <!-- <hr> -->


    <!-- ****************sidebar-right************** -->
    <div class="sidebar-right">
        <div class="sidebar">
            <h2>Other Faculties</h2>
            <ul class="faculty-list">
                {% for faculty in other_faculties %}
                <a href="{% url 'fams:faculty_profile' faculty_id=faculty.id%}">
                <li class="faculty">
                    <img src="{{ faculty.user.profile_picture.url }}" alt="Profile picture for {{ faculty.user.first_name }}  {{ faculty.user.last_name }}" class="avatar">
                    <div class="name">{{ faculty.user.first_name }}  {{ faculty.user.last_name }}</div>
                </li>
                {% endfor %}
            </ul>
            <a href="{% url 'fams:faculty_list' %}" class="view-more">View More</a>
        </div>
    </div>
</main>

{% endblock %}